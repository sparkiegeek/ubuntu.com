{% extends "advantage/base_advantage.html" %}

{% block title %}Ubuntu Advantage for Infrastructure{% endblock %}
{% block meta_description %}Ubuntu Advantage for Infrastructure offers a single, per-node packaging of the most comprehensive software, security and IaaS support in the industry, with OpenStack support, Kubernetes support included, and Livepatch, Landscape and Extended Security Maintenance to address security and compliance concerns.{% endblock %}

{% block head_extra %}<meta name="robots" content="noindex" />{% endblock %}

{% block content %}
  <section class="p-strip--suru-topped-light js-shop-step--cart p-shop-cart u-hide" style="margin-bottom: 2rem;">
  </section>
  
  <section class="p-strip--suru-topped js-shop-hero u-no-padding--bottom">
    <div class="row">
      <div class="col-12 u-sv3">
        <h1>Subscribe to Ubuntu Advantage</h1>

        {% if not user_info %}          
          <p>If you have existing subscriptions or sales offers, <a href="/login" onclick="dataLayer.push({
              'event' : 'GAEvent',
              'eventCategory' : 'Advantage subscribe',
              'eventAction' : 'Authentication',
              'eventLabel' : 'Sign in',
              'eventValue' : undefined
            });">sign in</a> to access them.</p>
        {% endif %}
      </div>
    </div>
  </section>

  <form class="js-shop-form">
    <section class="p-strip is-shallow js-shop-step--type">
      <div class="row">
        <div class="col-12">
          <h2 class="p-heading--three u-no-margin--bottom u-sv2 js-shop--form-heading">What are you setting up?</h2>          
        </div>

        <div class="col-12 row--5-col">
          <div class="p-card--radio">
            {{
              image(
                url="https://assets.ubuntu.com/v1/fdf83d49-Server.svg",
                alt="",
                height="48",
                width="40",
                hi_def=True,
                loading="auto",
                attrs={"class": "js-image-physical"}
              ) | safe
            }}
            <input autocomplete="off" class="js-product-input" type="radio" id="type_server" name="type" value="physical" data-unit-price="100000" data-product-name="server">
            <label for="type_server">
              Servers
            </label>
          </div>

          <div class="p-card--radio">
            {{
              image(
                url="https://assets.ubuntu.com/v1/a82add58-profile-aws.svg",
                alt="",
                height="180",
                width="302",
                hi_def=True,
                loading="auto",
              ) | safe
            }}
            <input autocomplete="off" class="js-product-input" type="radio" id="type_aws" name="type" value="aws">
            <label for="type_aws">
              AWS instances
            </label>
            
          </div>

          <div class="p-card--radio">
            {{
              image(
                url="https://assets.ubuntu.com/v1/da9a1344-Microsoft-Azure-logo_stacked_transparent.png",
                alt="",
                height="183",
                width="640",
                hi_def=True,
                loading="auto",
              ) | safe
            }}
            <input autocomplete="off" class="js-product-input" type="radio" id="type_azure" name="type" value="azure">
            <label for="type_azure">
              Azure instances
            </label>
          </div>

          <div class="p-card--radio">
            {{
              image(
                url="https://assets.ubuntu.com/v1/9ed50294-Virtual+machine.svg",
                alt="",
                height="48",
                width="59",
                hi_def=True,
                loading="auto",
                attrs={"class": "js-image-virtual"}
              ) | safe
            }}
            <input autocomplete="off" class="js-product-input" type="radio" id="type_other" name="type" value="virtual" data-unit-price="150000" data-product-name="virtual machine">
            <label for="type_other">
              Other VMs
            </label>
          </div>

          <div class="p-card--radio">
            {{
              image(
                url="https://assets.ubuntu.com/v1/4b732966-Laptop.svg",
                alt="",
                height="48",
                width="83",
                hi_def=True,
                loading="auto",
                attrs={"class": "js-image-desktop"}
              ) | safe
            }}
            <input autocomplete="off" class="js-product-input" type="radio" id="type_desktop" name="type" value="desktop" data-unit-price="50000" data-product-name="desktop">
            <label for="type_desktop">
              Desktops
            </label>
          </div>
        </div>

        <div class="col-12">
          <p>If you have more than one kind, you can add the others later.</p>
        </div>

        <div id="aws" class="col-12 u-hide js-public-cloud-info" style="background-color: #f7f7f7; padding: 1.5rem;">
          <p class="u-no-padding--top">You can buy <a href="https://aws.amazon.com/marketplace/search/results?page=1&filters=VendorId&VendorId=e6a5002c-6dd0-4d1e-8196-0a1d1857229b&searchTerms=ubuntu+pro" class="p-link--external">Ubuntu Pro on the AWS Marketplace</a> at an hourly, per-machine rate, with all UA software features included.</p>
        </div>
  
        <div id="azure" class="col-12 u-hide js-public-cloud-info" style="background-color: #f7f7f7; padding: 1.5rem;">
          <p class="u-no-padding--top">You can buy <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps?search=Ubuntu%20Pro&page=1" class="p-link--external">Ubuntu Pro on the Azure Marketplace</a> at an hourly, per-machine rate, with all UA software features included.</p>
        </div>
      </div>
    </section>

    <section class="p-strip is-shallow js-shop-step--quantity">
      <div class="row">
        <div class="col-12">
          <h2 class="p-heading--three u-no-margin--bottom u-sv2 js-type-name">How many?</h2>
        </div>
        
        <div class="col-2">
          <input autocomplete="off" class="js-product-input" type="number" name="quantity" value="0" step="1" data-stage="form" />
        </div>
      </div>
    </section>

    {% include "advantage/_ubuntu_version_select.html" %}

    <section class="p-strip is-shallow js-shop-step--support">
      <div class="row">
        <div class="col-12">
          <h2 class="p-heading--three u-no-margin--bottom u-sv2">Do you also want tech support?</h2>
        </div>

        <div class="col-4 p-card--radio u-no-padding--top u-no-padding--bottom">
          <input autocomplete="off" class="js-product-input" type="radio" id="support_one" name="support" value="essential">
          <label for="support_one">
            No thanks<br />
            <small class="u-text-light">Software only</small>
          </label>
        </div>

        <div class="col-4 p-card--radio u-no-padding--top u-no-padding--bottom">
          <input autocomplete="off" class="js-product-input" type="radio" id="support_two" name="support" value="standard">
          <label for="support_two">
            24 hours, 5 days a week<br />
            <small class="u-text-light">Phone and ticket support</small>
          </label>
        </div>

        <div class="col-4 p-card--radio u-no-padding--top u-no-padding--bottom">
          <input autocomplete="off" class="js-product-input" type="radio" id="support_three" name="support" value="advanced">
          <label for="support_three">
            24 hours, 7 days a week<br />
            <small class="u-text-light">Phone and ticket support</small>
          </label>
        </div>

        <div class="col-12">
          <p><a href="/legal/ubuntu-advantage-service-description" target="_blank">Get details on our tech support response times&nbsp;&rsaquo;</a></p>
        </div>
      </div>
    </section>

    <section class="p-strip--light is-shallow js-shop-step--add p-shop-cart">
      <div class="row">
        <div class="col-12">
          <h3>Your chosen plan</h3>
        </div>

        <div class="col-12">
          &mldr;
        </div>
      </div>
    </section>
  </form>
  {% include 'advantage/_stripe-modal.html' %}

  <script src="{{ versioned_static('js/src/ua-product-selector.js') }}" type="module" defer></script>
  <script defer>
    var productList = {
      {% for listing in product_listings %}
      "{{ listing.id }}": { 
        name: "{{ listing.product.name }}", 
        price: {{ listing.price|tojson }},
        productID: "{{ listing.product.id}}",
        private: "{{ listing.privateForAccount }}"
      },
      {% endfor %}
    };
  </script>
  
{% endblock %}
